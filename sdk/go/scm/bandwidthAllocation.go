// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package scm

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-scm/sdk/go/scm/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// BandwidthAllocation resource
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-scm/sdk/go/scm"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// #######################################################
//			// Create
//			// #######################################################
//			// 1000 mbps leads to 1 spn (eg: taiwan-raspberry)
//			// >1000 mbps leads to 2 spns (eg: taiwan-raspberry, taiwan-larch)
//			// >2000 mbps leads to 3 spns and so on. (eg: taiwan-raspberry, taiwan-larch, taiwan-peng)
//			// The API is smart enough to generate these spn's and return to us.
//			// To create with qos use following example
//			//
//			//	resource "scm_bandwidth_allocation" "example" {
//			//	 name                = "taiwan"
//			//	 allocated_bandwidth = 50 # In Mbps
//			//
//			//	 qos = {
//			//	   enabled          = true
//			//	   customized       = false             # Set to true if using a custom profile
//			//	   profile          = "Default Profile" # Name of the QoS Profile
//			//	   guaranteed_ratio = 20              # 20% guaranteed bandwidth ratio. API seems to accept only round integers
//			//	 }
//			//	}
//			//
//			// When creating, we never specify an spn_name_list. That is purely during update
//			_, err := scm.NewBandwidthAllocation(ctx, "example", &scm.BandwidthAllocationArgs{
//				Name:               pulumi.String("taiwan"),
//				AllocatedBandwidth: pulumi.Int(50),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// The following command can be used to import a resource not managed by Terraform:
//
// bash
//
// ```sh
// $ pulumi import scm:index/bandwidthAllocation:BandwidthAllocation example <name_value_of_the_resource>
// ```
type BandwidthAllocation struct {
	pulumi.CustomResourceState

	// bandwidth to allocate in Mbps
	AllocatedBandwidth pulumi.IntOutput `pulumi:"allocatedBandwidth"`
	// name of the aggregated bandwidth region
	Name pulumi.StringOutput `pulumi:"name"`
	// Qos
	Qos BandwidthAllocationQosPtrOutput `pulumi:"qos"`
	// Spn name list
	SpnNameLists pulumi.StringArrayOutput `pulumi:"spnNameLists"`
	Tfid         pulumi.StringOutput      `pulumi:"tfid"`
}

// NewBandwidthAllocation registers a new resource with the given unique name, arguments, and options.
func NewBandwidthAllocation(ctx *pulumi.Context,
	name string, args *BandwidthAllocationArgs, opts ...pulumi.ResourceOption) (*BandwidthAllocation, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.AllocatedBandwidth == nil {
		return nil, errors.New("invalid value for required argument 'AllocatedBandwidth'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource BandwidthAllocation
	err := ctx.RegisterResource("scm:index/bandwidthAllocation:BandwidthAllocation", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetBandwidthAllocation gets an existing BandwidthAllocation resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetBandwidthAllocation(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *BandwidthAllocationState, opts ...pulumi.ResourceOption) (*BandwidthAllocation, error) {
	var resource BandwidthAllocation
	err := ctx.ReadResource("scm:index/bandwidthAllocation:BandwidthAllocation", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering BandwidthAllocation resources.
type bandwidthAllocationState struct {
	// bandwidth to allocate in Mbps
	AllocatedBandwidth *int `pulumi:"allocatedBandwidth"`
	// name of the aggregated bandwidth region
	Name *string `pulumi:"name"`
	// Qos
	Qos *BandwidthAllocationQos `pulumi:"qos"`
	// Spn name list
	SpnNameLists []string `pulumi:"spnNameLists"`
	Tfid         *string  `pulumi:"tfid"`
}

type BandwidthAllocationState struct {
	// bandwidth to allocate in Mbps
	AllocatedBandwidth pulumi.IntPtrInput
	// name of the aggregated bandwidth region
	Name pulumi.StringPtrInput
	// Qos
	Qos BandwidthAllocationQosPtrInput
	// Spn name list
	SpnNameLists pulumi.StringArrayInput
	Tfid         pulumi.StringPtrInput
}

func (BandwidthAllocationState) ElementType() reflect.Type {
	return reflect.TypeOf((*bandwidthAllocationState)(nil)).Elem()
}

type bandwidthAllocationArgs struct {
	// bandwidth to allocate in Mbps
	AllocatedBandwidth int `pulumi:"allocatedBandwidth"`
	// name of the aggregated bandwidth region
	Name *string `pulumi:"name"`
	// Qos
	Qos *BandwidthAllocationQos `pulumi:"qos"`
	// Spn name list
	SpnNameLists []string `pulumi:"spnNameLists"`
}

// The set of arguments for constructing a BandwidthAllocation resource.
type BandwidthAllocationArgs struct {
	// bandwidth to allocate in Mbps
	AllocatedBandwidth pulumi.IntInput
	// name of the aggregated bandwidth region
	Name pulumi.StringPtrInput
	// Qos
	Qos BandwidthAllocationQosPtrInput
	// Spn name list
	SpnNameLists pulumi.StringArrayInput
}

func (BandwidthAllocationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*bandwidthAllocationArgs)(nil)).Elem()
}

type BandwidthAllocationInput interface {
	pulumi.Input

	ToBandwidthAllocationOutput() BandwidthAllocationOutput
	ToBandwidthAllocationOutputWithContext(ctx context.Context) BandwidthAllocationOutput
}

func (*BandwidthAllocation) ElementType() reflect.Type {
	return reflect.TypeOf((**BandwidthAllocation)(nil)).Elem()
}

func (i *BandwidthAllocation) ToBandwidthAllocationOutput() BandwidthAllocationOutput {
	return i.ToBandwidthAllocationOutputWithContext(context.Background())
}

func (i *BandwidthAllocation) ToBandwidthAllocationOutputWithContext(ctx context.Context) BandwidthAllocationOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BandwidthAllocationOutput)
}

// BandwidthAllocationArrayInput is an input type that accepts BandwidthAllocationArray and BandwidthAllocationArrayOutput values.
// You can construct a concrete instance of `BandwidthAllocationArrayInput` via:
//
//	BandwidthAllocationArray{ BandwidthAllocationArgs{...} }
type BandwidthAllocationArrayInput interface {
	pulumi.Input

	ToBandwidthAllocationArrayOutput() BandwidthAllocationArrayOutput
	ToBandwidthAllocationArrayOutputWithContext(context.Context) BandwidthAllocationArrayOutput
}

type BandwidthAllocationArray []BandwidthAllocationInput

func (BandwidthAllocationArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BandwidthAllocation)(nil)).Elem()
}

func (i BandwidthAllocationArray) ToBandwidthAllocationArrayOutput() BandwidthAllocationArrayOutput {
	return i.ToBandwidthAllocationArrayOutputWithContext(context.Background())
}

func (i BandwidthAllocationArray) ToBandwidthAllocationArrayOutputWithContext(ctx context.Context) BandwidthAllocationArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BandwidthAllocationArrayOutput)
}

// BandwidthAllocationMapInput is an input type that accepts BandwidthAllocationMap and BandwidthAllocationMapOutput values.
// You can construct a concrete instance of `BandwidthAllocationMapInput` via:
//
//	BandwidthAllocationMap{ "key": BandwidthAllocationArgs{...} }
type BandwidthAllocationMapInput interface {
	pulumi.Input

	ToBandwidthAllocationMapOutput() BandwidthAllocationMapOutput
	ToBandwidthAllocationMapOutputWithContext(context.Context) BandwidthAllocationMapOutput
}

type BandwidthAllocationMap map[string]BandwidthAllocationInput

func (BandwidthAllocationMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BandwidthAllocation)(nil)).Elem()
}

func (i BandwidthAllocationMap) ToBandwidthAllocationMapOutput() BandwidthAllocationMapOutput {
	return i.ToBandwidthAllocationMapOutputWithContext(context.Background())
}

func (i BandwidthAllocationMap) ToBandwidthAllocationMapOutputWithContext(ctx context.Context) BandwidthAllocationMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BandwidthAllocationMapOutput)
}

type BandwidthAllocationOutput struct{ *pulumi.OutputState }

func (BandwidthAllocationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**BandwidthAllocation)(nil)).Elem()
}

func (o BandwidthAllocationOutput) ToBandwidthAllocationOutput() BandwidthAllocationOutput {
	return o
}

func (o BandwidthAllocationOutput) ToBandwidthAllocationOutputWithContext(ctx context.Context) BandwidthAllocationOutput {
	return o
}

// bandwidth to allocate in Mbps
func (o BandwidthAllocationOutput) AllocatedBandwidth() pulumi.IntOutput {
	return o.ApplyT(func(v *BandwidthAllocation) pulumi.IntOutput { return v.AllocatedBandwidth }).(pulumi.IntOutput)
}

// name of the aggregated bandwidth region
func (o BandwidthAllocationOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *BandwidthAllocation) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Qos
func (o BandwidthAllocationOutput) Qos() BandwidthAllocationQosPtrOutput {
	return o.ApplyT(func(v *BandwidthAllocation) BandwidthAllocationQosPtrOutput { return v.Qos }).(BandwidthAllocationQosPtrOutput)
}

// Spn name list
func (o BandwidthAllocationOutput) SpnNameLists() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *BandwidthAllocation) pulumi.StringArrayOutput { return v.SpnNameLists }).(pulumi.StringArrayOutput)
}

func (o BandwidthAllocationOutput) Tfid() pulumi.StringOutput {
	return o.ApplyT(func(v *BandwidthAllocation) pulumi.StringOutput { return v.Tfid }).(pulumi.StringOutput)
}

type BandwidthAllocationArrayOutput struct{ *pulumi.OutputState }

func (BandwidthAllocationArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*BandwidthAllocation)(nil)).Elem()
}

func (o BandwidthAllocationArrayOutput) ToBandwidthAllocationArrayOutput() BandwidthAllocationArrayOutput {
	return o
}

func (o BandwidthAllocationArrayOutput) ToBandwidthAllocationArrayOutputWithContext(ctx context.Context) BandwidthAllocationArrayOutput {
	return o
}

func (o BandwidthAllocationArrayOutput) Index(i pulumi.IntInput) BandwidthAllocationOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *BandwidthAllocation {
		return vs[0].([]*BandwidthAllocation)[vs[1].(int)]
	}).(BandwidthAllocationOutput)
}

type BandwidthAllocationMapOutput struct{ *pulumi.OutputState }

func (BandwidthAllocationMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*BandwidthAllocation)(nil)).Elem()
}

func (o BandwidthAllocationMapOutput) ToBandwidthAllocationMapOutput() BandwidthAllocationMapOutput {
	return o
}

func (o BandwidthAllocationMapOutput) ToBandwidthAllocationMapOutputWithContext(ctx context.Context) BandwidthAllocationMapOutput {
	return o
}

func (o BandwidthAllocationMapOutput) MapIndex(k pulumi.StringInput) BandwidthAllocationOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *BandwidthAllocation {
		return vs[0].(map[string]*BandwidthAllocation)[vs[1].(string)]
	}).(BandwidthAllocationOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*BandwidthAllocationInput)(nil)).Elem(), &BandwidthAllocation{})
	pulumi.RegisterInputType(reflect.TypeOf((*BandwidthAllocationArrayInput)(nil)).Elem(), BandwidthAllocationArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*BandwidthAllocationMapInput)(nil)).Elem(), BandwidthAllocationMap{})
	pulumi.RegisterOutputType(BandwidthAllocationOutput{})
	pulumi.RegisterOutputType(BandwidthAllocationArrayOutput{})
	pulumi.RegisterOutputType(BandwidthAllocationMapOutput{})
}
